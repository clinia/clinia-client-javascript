<!DOCTYPE html>
<html>
  <head>
    <title>CliniaSearch JavaScript</title>
    <script src="/dist/cliniasearch.js"></script>
  </head>
  <body>
    <script>
      var client = cliniasearch('TODO', 'test', {
        protocol: 'http',
        hosts: {
          read: ['localhost:5000'],
          write: ['localhost:5000'],
        },
      });

      var queries = [
        {
          indexName: 'health_facility',
          query: 'sons',
          params: {
            queryType: 'prefixLast',
            searchFields: ['name'],
          },
        },
        {
          indexName: 'professional',
          query: 'sons',
          params: {
            queryType: 'prefixLast',
            searchFields: ['name'],
          },
        },
      ];

      client.search(queries, function(err, response) {
        if (err) {
          throw err;
        }

        console.log(response.results);
      });

      var index = client.initIndex('health_facility');
      index.search({ query: 'jo', params: {queryType: 'prefix_last' }}, function(err, results) {
        if (err) {
          throw err;
        }
        console.log('We got `' + results.meta.total + '` results');
        console.log('Here is the first one: ', results.records[0]);
      });
    </script>
    <div id="div">:)</div>
  </body>
</html>
